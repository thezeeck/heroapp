{"version":3,"sources":["app.js","_api.js","_grid.js","_search.js"],"names":["app","pubKey","browserDetect","obj","userAgent","navigator","toLowerCase","eventDevice","match","mobileVer","$","innerWidth","test","addClass","runApp","runGrid","searchOptions","callApi","section","parameters","urlAjax","i","length","console","log","getJSON","apikey","api","then","data","results","fail","err","renderGrid","arrayContent","node","template","rejected","thumbnail","path","indexOf","resourceURI","extension","name","html","on","e","currentTarget","returndata","browser","hasClass","toggleClass","value","submit","preventDefault"],"mappings":"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","file":"app.js","sourcesContent":["var app = {\n  \"api\": {\n    pubKey: \"e5e525c75274a0cd954ec98993d606c2\"\n  },\n  \"browser\": browserDetect()\n};\n\nfunction browserDetect() {\n  var obj = {};\n\n  obj.userAgent = navigator.userAgent.toLowerCase();\n  obj.eventDevice = obj.userAgent.match(/(iphone|ipod|ipad)/)  ? \"touchstart\" : \"click\";\n  obj.mobileVer = $(\"body\").innerWidth() < 900 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? true : false;\n\n  if(obj.mobileVer) {\n    $(\"body\").addClass(\"mobile-ver\");\n  }\n\n  return obj;\n}\n\n$(()=> {\n\n  function runApp() {\n    runGrid();\n    searchOptions();\n  }\n\n  runApp();\n});\n","app.callApi = (section, parameters)=> {\n  var urlAjax = \"https://gateway.marvel.com:443/v1/public/\" + section;\n\n  for (var i = 0; i < parameters.length; i++) {\n    if (i) {\n      urlAjax += \"&\" + parameters[i][0] + \"=\" + parameters[i][1];\n    } else {\n      urlAjax += \"?\" + parameters[i][0] + \"=\" + parameters[i][1]\n    }\n  }\n\n  console.log(urlAjax);\n\n  return $.getJSON(urlAjax, {\n    apikey: app.api.pubKey\n  })\n  .then((data)=> {\n    return data.data.results\n  })\n  .fail((err)=> console.log(err));\n}\n","app.renderGrid = (arrayContent, node)=> {\n  console.log(arrayContent);\n  var template = \"\",\n      rejected = 0;\n  for (var i = 0; i < arrayContent.length; i++) {\n    if(arrayContent[i].thumbnail.path.indexOf(\"image_not_available\") < 0) {\n      template += `<li ui-ref=\"${arrayContent[i].resourceURI + app.api.pubKey}\"><div class=\"card\">\n                  <img src=\"${arrayContent[i].thumbnail.path}.${arrayContent[i].thumbnail.extension}\">\n                  <h3>${arrayContent[i].name}</h3></div></li>`\n    } else {\n      rejected++\n    }\n  }\n  if (rejected < arrayContent.length) {\n    $(node).html(template);\n    $(node + \" li\").on(\"click\", (e)=> {\n      console.log(e.currentTarget);\n    });\n  } else {\n    $(node).html('<h1 class=\"empty-search\">No pudimos encontrar nada</h1>');\n  }\n}\n\nfunction runGrid() {\n  app.callApi(\"characters\", [[\"orderBy\", \"-modified\"], [\"limit\", 100]]).then(\n    (returndata)=> app.renderGrid(returndata, \"#gridHome\")\n  );\n}\n","function searchOptions() {\n\n  $(\"#serchToggle\").on(app.browser.eventDevice, ()=> {\n    if ($(\"#search\").hasClass(\"active\")) {\n      $(\"#search\").toggleClass(\"active\");\n      $(\"header\").toggleClass(\"active\");\n      $(\"#search input\")[0].value = \"\";\n      runGrid();\n    } else {\n      $(\"#search\").toggleClass(\"active\");\n      $(\"header\").toggleClass(\"active\");\n    }\n  });\n\n\n  $(\"#search\").submit((e) => {\n    e.preventDefault();\n    app.callApi(\"characters\", [\n                                [\"nameStartsWith\", $(\"#search input\")[0].value],\n                                [\"orderBy\", \"-modified\"],\n                                [\"limit\", 100]\n                              ])\n      .then(\n        (returndata) => app.renderGrid(returndata, \"#gridHome\")\n    );\n  });\n}\n"]}