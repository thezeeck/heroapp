{"version":3,"sources":["app.js"],"names":["app","pubKey","browserDetect","obj","userAgent","navigator","toLowerCase","eventDevice","match","mobileVer","$","innerWidth","test","addClass","callApi","section","parameters","urlAjax","i","length","console","log","getJSON","apikey","api","then","data","results","fail","err","renderGrid","arrayContent","node","template","thumbnail","path","indexOf","resourceURI","extension","name","append","on","e","currentTarget","searchOptions","browser","toggleClass","submit","preventDefault","runApp","returndata"],"mappings":"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","file":"app.js","sourcesContent":["var app = {\n  \"api\": {\n    pubKey: \"e5e525c75274a0cd954ec98993d606c2\"\n  },\n  \"browser\": browserDetect()\n};\n\nfunction browserDetect() {\n  var obj = {};\n\n  obj.userAgent = navigator.userAgent.toLowerCase();\n  obj.eventDevice = obj.userAgent.match(/(iphone|ipod|ipad)/)  ? \"touchstart\" : \"click\";\n  obj.mobileVer = $(\"body\").innerWidth() < 900 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? true : false;\n\n  if (obj.mobileVer) {\n    $(\"body\").addClass(\"mobile-ver\");\n  }\n\n  return obj;\n}\n\n$(()=> {\n\n  app.callApi = (section, parameters)=> {\n    var urlAjax = \"https://gateway.marvel.com:443/v1/public/\" + section;\n\n    for (var i = 0; i < parameters.length; i++) {\n      if (i) {\n        urlAjax += \"&\" + parameters[i][0] + \"=\" + parameters[i][1];\n      } else {\n        urlAjax += \"?\" + parameters[i][0] + \"=\" + parameters[i][1]\n      }\n    }\n\n    console.log(urlAjax);\n\n    return $.getJSON(urlAjax, {\n      apikey: app.api.pubKey\n    })\n    .then((data)=> {\n      return data.data.results\n    })\n    .fail((err)=> console.log(err));\n  }\n\n  app.renderGrid = (arrayContent, node)=> {\n    console.log(arrayContent);\n    var template = \"\";\n    for (var i = 0; i < arrayContent.length; i++) {\n      if(arrayContent[i].thumbnail.path.indexOf(\"image_not_available\") < 0) {\n        template += `<li ui-ref=\"${arrayContent[i].resourceURI + app.api.pubKey}\"><div class=\"card\">\n                    <img src=\"${arrayContent[i].thumbnail.path}.${arrayContent[i].thumbnail.extension}\">\n                    <h3>${arrayContent[i].name}</h3></div></li>`\n      }\n    }\n    $(node).append(template);\n    $(node + \" li\").on(\"click\", (e)=> {\n      console.log(e.currentTarget);\n    });\n  }\n\n  function searchOptions() {\n    if (app.browser.mobileVer) {\n      $(\"#serchToggle\").on(app.browser.eventDevice, ()=> {\n        $(\"#search\").toggleClass(\"active\");\n        $(\"header\").toggleClass(\"active\");\n      });\n    } else {\n      $(\"#serchToggle\").on(app.browser.eventDevice, ()=> {\n        $(\"header\").toggleClass(\"active\");\n      });\n    }\n\n    $(\"#search\").submit((e) => {\n      e.preventDefault();\n    });\n  }\n\n  function runApp() {\n    app.callApi(\"characters\", [[\"orderBy\", \"-modified\"], [\"limit\", 100]]).then((returndata)=> {\n      app.renderGrid(returndata, \"#gridHome\");\n    });\n\n    searchOptions();\n  }\n\n  runApp();\n});\n"]}